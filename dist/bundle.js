!function(){"use strict";const e=function(e){var t=e.target,n=document.querySelector(".modal-callback"),o=document.querySelector(".modal-overlay"),r=document.querySelector(".modal-close"),c=function(e){var t=e.dataset.application,n=document.getElementById("application");return document.getElementById("applicationInput").value=t,n.style.cssText="\n\t\tdisplay: none;\n    position: fixed;\n    top: 20%;\n    left: 50%;\n    transform: translateX(-50%);\n    width: 460px;\n    max-width: 100%;\n    background: #fff;\n    padding: 55px 25px 35px;\n    z-index: 99;",n}(t),l=function(e){e.style.display="block",o.style.display="block",document.addEventListener("keydown",i)},a=function(){n.style.display="none",c.style.display="none",o.style.display="none",document.removeEventListener("keydown",i)},i=function(e){"Escape"===e.code&&a()};r.addEventListener("click",a),o.addEventListener("click",a),t.matches(".absolute")&&l(c),(t.matches(".callback-btn")||t.matches(".button-services"))&&l(n)};function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var n=void 0;const o=function(){var e=document.querySelectorAll('input[name="fio"]'),t=document.querySelectorAll('input[name="tel"]'),o=document.querySelectorAll("input"),r=function(e,t){e.value=t.target.value.replace(/[^0-9 +]/,""),e.value=t.target.value.replace(/[+]{2,}/,"+")},c=function(e,t){e.value=t.target.value.replace(/[^а-яё ]/gi,"")},l=function(e,t,n){n?(t.value=e.value,t.classList.remove("error"),t.style.cssText="border: none;"):(t.classList.add("error"),t.style.cssText="border: 2px solid red !important;")};e.forEach((function(e){return e.addEventListener("input",c.bind(n,e))})),t.forEach((function(e){return e.addEventListener("input",r.bind(n,e))})),o.forEach((function(e){e.addEventListener("blur",(function(t){t.preventDefault();var n=t.target;n.matches('input[name="fio"]')&&(function(e,t){var n=t.value.trim().replace(/\s{2,}/," ").replace(/^[ |-]/,"").replace(/[-]{2,}/,"-").split(" ");e.value=function(e){for(var t=[],n=0;n<e.length;n++)""!==e[n]&&(t[n]=e[n][0].toUpperCase()+e[n].slice(1).toLowerCase());return t}(n).join(" ")}(e,n),l(n,e,""!==n.value)),n.matches('input[name="tel"]')&&l(n,e,n.value.match(/^(\+ |\+)?3?[78]?([- ()]*\d){10}$/))}))}))},r=function(e){var t=document.getElementById(e),n=document.createElement("div");n.style.cssText="\n  display: flex;\n  align-items: center;\n  font-size: 2rem;\n  color: blue;\n  justify-content: center;\n  ",t.addEventListener("submit",(function(e){e.preventDefault();var o,r=function(e){var t=e.querySelectorAll("input"),n=0;return t.forEach((function(e){(e.classList.contains("error")||""===e.value)&&n++})),n}(t),c=new FormData(t),l={};c.forEach((function(e,t){l[t]=e})),0===r&&(t.append(n),n.innerHTML="<img width='40px' alt='preloder' src=".concat("./preloader.svg",">"),(o=l,fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)})).then((function(e){if(200!==e.status)throw new Error("status network not 200");n.textContent="Спасибо! Мы скоро с вами свяжемся!"})).catch((function(e){n.textContent="Что то пошло не так...",console.error(e)})).then((function(){t.reset(),setTimeout((function(){var e=document.querySelector(".modal-callback"),t=document.getElementById("application"),o=document.querySelector(".modal-overlay");e.style.display="none",t.style.display="none",o.style.display="none",setTimeout((function(){n.textContent="",n.remove()}),2e3)}),3e3)})))}))},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0,c=document.querySelector(".services-carousel"),l=document.querySelector(".services-arrow"),a=c.querySelectorAll(".col-sm-6,.col-md-4");a.forEach((function(e){e.style.display="none"}));for(var i=[],s=t-1,u=0,d=0;d<t;d++)i.push(a[d]);var f=function(t){var l;n.innerHTML="",t.forEach((function(e){(l=e.cloneNode(!0)).style.display="block",n.innerHTML+=l.outerHTML})),c.prepend(n),c.querySelectorAll(".col-sm-6,.col-md-4").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),e(t)}))})),o(),r("form-application")};f(i);var v=function(e){i.splice(t-1),i.unshift(a[e]),f(i)},m=function(e){i.splice(0,1),i.push(a[e]),f(i)};l.addEventListener("click",(function(e){e.preventDefault();var t=e.target;t.matches(".arrow-right")?(s>=a.length-1?(u++,m(s=0)):(s++,u++,m(s)),u>a.length-1&&(u=0)):t.matches(".arrow-left")&&(u<=0?(u=a.length-1,s--,v(u)):(s--,u--,v(u)),s<0&&(s=a.length-1))}))};var l,a;l=document.querySelector("body"),(a=document.querySelector(".up")).style.display="none",a.addEventListener("click",(function(){l.scrollIntoView({behavior:"smooth",block:"start"})})),window.addEventListener("scroll",(function(){pageYOffset>=612?a.style.display="block":a.style.display="none"})),function(){var e,n=function(e,n){var o="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=function(e,n){if(e){if("string"==typeof e)return t(e,n);var o=Object.prototype.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?t(e,n):void 0}}(e))||n&&e&&"number"==typeof e.length){o&&(e=o);var r=0,c=function(){};return{s:c,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,a=!0,i=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return a=e.done,e},e:function(e){i=!0,l=e},f:function(){try{a||null==o.return||o.return()}finally{if(i)throw l}}}}(document.querySelectorAll("a[href]"));try{var o=function(){var t=e.value;t.addEventListener("click",(function(e){e.preventDefault();var n=t.getAttribute("href");if("#"!==n&&"http://collary.ru"!==n){var o=document.querySelector(n);null===o||o.matches(".modal, .modal-callback")||window.scrollTo({top:o.offsetTop-100,behavior:"smooth"})}}))};for(n.s();!(e=n.n()).done;)o()}catch(e){n.e(e)}finally{n.f()}}();var i,s,u,d,f,v,m=document.createElement("div"),y=function(){m.innerHTML="",document.documentElement.clientWidth>990?c(3,m):document.documentElement.clientWidth>760?c(2,m):c(1,m)};y(),window.addEventListener("resize",y),document.querySelectorAll(".fancyboxModal").forEach((function(t){t.addEventListener("click",(function(t){t.preventDefault(),e(t)}))})),o(),r("form-callback"),d=document.querySelectorAll(".item"),f=0,v=function(){d[f].classList.add("slider-item-active"),++f>=d.length&&(f=0),d[f].classList.remove("slider-item-active")},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3e3;setInterval(v,e)}(3e3),i=document.querySelector(".accordeon"),s=i.querySelectorAll(".element"),u=i.querySelectorAll(".element-content"),s.forEach((function(e){e.children[1].classList.contains("active")&&(e.children[1].style.height="".concat(e.children[1].scrollHeight,"px"))})),i.addEventListener("click",(function(e){var t,n=e.target;if(n.classList.contains("title")){var o=n.closest(".element"),r=o.querySelector(".element-content");o.classList.contains("active")?(t=r,o.classList.remove("active"),t.style.display="none",t.style.height=""):function(e,t){s.forEach((function(e){e.classList.remove("active")})),u.forEach((function(e){e.style.height="",e.style.display="none"})),e.classList.add("active"),t.style.height="",t.style.display="block",t.style.height="".concat(t.scrollHeight,"px")}(o,r)}}))}();